jQuery.fn.boxy=function(a){a=a||{};return this.each(function(){var c=this.nodeName.toLowerCase(),b=this;if(c=="a"){jQuery(this).click(function(){var h=Boxy.linkedTo(this),e=this.getAttribute("href"),g=jQuery.extend({actuator:this,title:this.title},a);if(h){h.show()}else{if(e.indexOf("#")>=0){var f=jQuery(e.substr(e.indexOf("#"))),d=f.clone(true);f.remove();g.unloadOnHide=false;new Boxy(d,g)}else{if(!g.cache){g.unloadOnHide=true}Boxy.load(this.href,g)}}return false})}else{if(c=="form"){jQuery(this).bind("submit.boxy",function(){Boxy.confirm(a.message||"Please confirm:",function(){jQuery(b).unbind("submit.boxy").submit()});return false})}}})};function Boxy(b,a){this.boxy=jQuery(Boxy.WRAPPER);jQuery.data(this.boxy[0],"boxy",this);this.visible=false;this.options=jQuery.extend({},Boxy.DEFAULTS,a||{});if(this.options.modal){this.options=jQuery.extend(this.options,{center:true,draggable:false})}if(this.options.actuator){jQuery.data(this.options.actuator,"active.boxy",this)}this.setContent(b||"<div></div>");this._setupTitleBar();this.boxy.css("display","none").appendTo(document.body);this.toTop();if(this.options.fixed){if(jQuery.browser.msie&&jQuery.browser.version<7){this.options.fixed=false}else{this.boxy.addClass("fixed")}}if(this.options.center&&Boxy._u(this.options.x,this.options.y)){this.center()}else{this.moveTo(Boxy._u(this.options.x)?this.options.x:Boxy.DEFAULT_X,Boxy._u(this.options.y)?this.options.y:Boxy.DEFAULT_Y)}if(this.options.show){this.show()}}Boxy.EF=function(){};jQuery.extend(Boxy,{WRAPPER:"<table cellspacing='0' cellpadding='0' border='0' class='boxy-wrapper'><tr><td class='top-left'></td><td class='top'></td><td class='top-right'></td></tr><tr><td class='left'></td><td class='boxy-inner'></td><td class='right'></td></tr><tr><td class='bottom-left'></td><td class='bottom'></td><td class='bottom-right'></td></tr></table>",DEFAULTS:{title:null,closeable:true,draggable:true,clone:false,actuator:null,center:true,show:true,modal:false,fixed:true,closeText:"[close]",unloadOnHide:false,clickToFront:false,behaviours:Boxy.EF,afterDrop:Boxy.EF,afterShow:Boxy.EF,afterHide:Boxy.EF,beforeUnload:Boxy.EF},DEFAULT_X:50,DEFAULT_Y:50,zIndex:1337,dragConfigured:false,resizeConfigured:false,dragging:null,load:function(b,a){a=a||{};var c={url:b,type:"GET",dataType:"html",cache:false,success:function(d){d=jQuery(d);if(a.filter){d=jQuery(a.filter,d)}new Boxy(d,a)}};jQuery.each(["type","cache"],function(){if(this in a){c[this]=a[this];delete a[this]}});jQuery.ajax(c)},get:function(a){var b=jQuery(a).parents(".boxy-wrapper");return b.length?jQuery.data(b[0],"boxy"):null},linkedTo:function(a){return jQuery.data(a,"active.boxy")},alert:function(b,c,a){return Boxy.ask(b,["OK"],c,a)},confirm:function(b,c,a){return Boxy.ask(b,["OK","Cancel"],function(d){if(d=="OK"){c()}},a)},ask:function(c,f,j,l){l=jQuery.extend({modal:true,closeable:false},l||{},{show:true,unloadOnHide:true});var e=jQuery("<div></div>").append(jQuery('<div class="question"></div>').html(c));var a={},h=[];if(f instanceof Array){for(var d=0;d<f.length;d++){a[f[d]]=f[d];h.push(f[d])}}else{for(var b in f){a[f[b]]=b;h.push(f[b])}}var g=jQuery('<form class="answers"></form>');g.html(jQuery.map(h,function(i){return"<input type='button' value='"+i+"' />"}).join(" "));jQuery("input[type=button]",g).click(function(){var i=this;Boxy.get(this).hide(function(){if(j){j(a[i.value])}})});e.append(g);new Boxy(e,l)},isModalVisible:function(){return jQuery(".boxy-modal-blackout").length>0},_u:function(){for(var a=0;a<arguments.length;a++){if(typeof arguments[a]!="undefined"){return false}}return true},_handleResize:function(a){var b=jQuery(document);jQuery(".boxy-modal-blackout").css("display","none").css({width:b.width(),height:b.height()}).css("display","block")},_handleDrag:function(a){var b;if(b=Boxy.dragging){b[0].boxy.css({left:a.pageX-b[1],top:a.pageY-b[2]})}},_nextZ:function(){return Boxy.zIndex++},_viewport:function(){var e=document.documentElement,a=document.body,c=window;return jQuery.extend(jQuery.browser.msie?{left:a.scrollLeft||e.scrollLeft,top:a.scrollTop||e.scrollTop}:{left:c.pageXOffset,top:c.pageYOffset},!Boxy._u(c.innerWidth)?{width:c.innerWidth,height:c.innerHeight}:(!Boxy._u(e)&&!Boxy._u(e.clientWidth)&&e.clientWidth!=0?{width:e.clientWidth,height:e.clientHeight}:{width:a.clientWidth,height:a.clientHeight}))}});Boxy.prototype={estimateSize:function(){this.boxy.css({visibility:"hidden",display:"block"});var a=this.getSize();this.boxy.css("display","none").css("visibility","visible");return a},getSize:function(){return[this.boxy.width(),this.boxy.height()]},getContentSize:function(){var a=this.getContent();return[a.width(),a.height()]},getPosition:function(){var a=this.boxy[0];return[a.offsetLeft,a.offsetTop]},getCenter:function(){var b=this.getPosition();var a=this.getSize();return[Math.floor(b[0]+a[0]/2),Math.floor(b[1]+a[1]/2)]},getInner:function(){return jQuery(".boxy-inner",this.boxy)},getContent:function(){return jQuery(".boxy-content",this.boxy)},setContent:function(a){a=jQuery(a).css({display:"block"}).addClass("boxy-content");if(this.options.clone){a=a.clone(true)}this.getContent().remove();this.getInner().append(a);this._setupDefaultBehaviours(a);this.options.behaviours.call(this,a);return this},moveTo:function(a,b){this.moveToX(a).moveToY(b);return this},moveToX:function(a){if(typeof a=="number"){this.boxy.css({left:a})}else{this.centerX()}return this},moveToY:function(a){if(typeof a=="number"){this.boxy.css({top:a})}else{this.centerY()}return this},centerAt:function(a,c){var b=this[this.visible?"getSize":"estimateSize"]();if(typeof a=="number"){this.moveToX(a-b[0]/2)}if(typeof c=="number"){this.moveToY(c-b[1]/2)}return this},centerAtX:function(a){return this.centerAt(a,null)},centerAtY:function(a){return this.centerAt(null,a)},center:function(b){var a=Boxy._viewport();var c=this.options.fixed?[0,0]:[a.left,a.top];if(!b||b=="x"){this.centerAt(c[0]+a.width/2,null)}if(!b||b=="y"){this.centerAt(null,c[1]+a.height/2)}return this},centerX:function(){return this.center("x")},centerY:function(){return this.center("y")},resize:function(b,a,d){if(!this.visible){return}var c=this._getBoundsForResize(b,a);this.boxy.css({left:c[0],top:c[1]});this.getContent().css({width:c[2],height:c[3]});if(d){d(this)}return this},tween:function(c,a,e){if(!this.visible){return}var d=this._getBoundsForResize(c,a);var b=this;this.boxy.stop().animate({left:d[0],top:d[1]});this.getContent().stop().animate({width:d[2],height:d[3]},function(){if(e){e(b)}});return this},isVisible:function(){return this.visible},show:function(){if(this.visible){return}if(this.options.modal){var a=this;if(!Boxy.resizeConfigured){Boxy.resizeConfigured=true;jQuery(window).resize(function(){Boxy._handleResize()})}this.modalBlackout=jQuery('<div class="boxy-modal-blackout"></div>').css({zIndex:Boxy._nextZ(),opacity:0.7,width:jQuery(document).width(),height:jQuery(document).height()}).appendTo(document.body);this.toTop();if(this.options.closeable){jQuery(document.body).bind("keypress.boxy",function(b){var c=b.which||b.keyCode;if(c==27){a.hide();jQuery(document.body).unbind("keypress.boxy")}})}}this.boxy.stop().css({opacity:1}).show();this.visible=true;this._fire("afterShow");return this},hide:function(b){if(!this.visible){return}var a=this;if(this.options.modal){jQuery(document.body).unbind("keypress.boxy");this.modalBlackout.animate({opacity:0},function(){jQuery(this).remove()})}this.boxy.stop().animate({opacity:0},300,function(){a.boxy.css({display:"none"});a.visible=false;a._fire("afterHide");if(b){b(a)}if(a.options.unloadOnHide){a.unload()}});return this},toggle:function(){this[this.visible?"hide":"show"]();return this},hideAndUnload:function(a){this.options.unloadOnHide=true;this.hide(a);return this},unload:function(){this._fire("beforeUnload");this.boxy.remove();if(this.options.actuator){jQuery.data(this.options.actuator,"active.boxy",false)}},toTop:function(){this.boxy.css({zIndex:Boxy._nextZ()});return this},getTitle:function(){return jQuery("> .title-bar h2",this.getInner()).html()},setTitle:function(a){jQuery("> .title-bar h2",this.getInner()).html(a);return this},_getBoundsForResize:function(c,a){var b=this.getContentSize();var e=[c-b[0],a-b[1]];var d=this.getPosition();return[Math.max(d[0]-e[0]/2,0),Math.max(d[1]-e[1]/2,0),c,a]},_setupTitleBar:function(){if(this.options.title){var b=this;var a=jQuery("<div class='title-bar'></div>").html("<h2>"+this.options.title+"</h2>");if(this.options.closeable){a.append(jQuery("<a href='#' class='close'></a>").html(this.options.closeText))}if(this.options.draggable){a[0].onselectstart=function(){return false};a[0].unselectable="on";a[0].style.MozUserSelect="none";if(!Boxy.dragConfigured){jQuery(document).mousemove(Boxy._handleDrag);Boxy.dragConfigured=true}a.mousedown(function(c){b.toTop();Boxy.dragging=[b,c.pageX-b.boxy[0].offsetLeft,c.pageY-b.boxy[0].offsetTop];jQuery(this).addClass("dragging")}).mouseup(function(){jQuery(this).removeClass("dragging");Boxy.dragging=null;b._fire("afterDrop")})}this.getInner().prepend(a);this._setupDefaultBehaviours(a)}},_setupDefaultBehaviours:function(a){var b=this;if(this.options.clickToFront){a.click(function(){b.toTop()})}jQuery(".close",a).click(function(){b.hide();return false}).mousedown(function(c){c.stopPropagation()})},_fire:function(a){this.options[a].call(this)}};jq(document).ready(function(){jq("#moresearchresults a").html("Load More");jq("#moresearchresults a").click(function(){try{jq.ajax({url:jq(this).attr("href"),cache:true,success:function(b){if(b){var c="<div>"+b+"</div>";jq("#searchResults").html(jq("#searchResults").html()+jq(c).find("#searchResults").html());if(!jq(c).find("#moresearchresults")[0]){jq("#moresearchresults").remove()}else{jq("#moresearchresults a").attr("href",jq(c).find("#moresearchresults a").attr("href"));jq("#moresearchresults a").html("Load More")}}else{cosole.log("Load More Results Failed, no data returned: "+jq(this).attr("href"))}},error:function(){cosole.log("Load More Results Failed: "+jq(this).attr("href"))}})}catch(a){alert(a.toString())}finally{return false}})});function lessDetails(){try{hideElement("addlinfo");showElement("moredetails")}catch(a){alert(a.toString())}finally{return false}}function moreDetails(){try{hideElement("moredetails");showElement("addlinfo")}catch(a){alert(a.toString())}finally{return false}}function htToggleFacetView(a,d,c,b){if(a){jq(d).css("display","none");jq(c).css("display","");jq(b).css("display","")}else{jq(c).css("display","none");jq(b).css("display","none");jq(d).css("display","")}}function ShowHideEmail(b,a){jq("#"+b).animate({height:"toggle"},{duration:500});if(jq(a).hasClass("emailopen")){jq(a).removeClass("emailopen")}else{jq(a).addClass("emailopen")}}function inputFocus(a){if(a.value==a.title){console.log("Input Focus, clearing. Value: "+a.value+"; Default Value: "+a.defaultValue);a.value="";a.style.color="#000"}else{console.log("Input Focus, not clearing. Value: "+a.value+"; Default Value: "+a.defaultValue);a.style.color="#000"}}function inputBlur(a){if(a.value==""){console.log("Input Blur");a.value=a.title;a.style.color="#888"}}function emailSelectedRecordsMobile(b){var a="/Search/SearchExport?";b.method="emailTempRecords";jq("[name=to],[name=from],[name=message]").each(function(c){ibox=jq(this);b[ibox.attr("name")]=ibox.val()});jq("div.erErrorEmail").css("color","black").html("Sending...");jq.post(a,b,function(d,c){if(d.mailerror){jq("div.erErrorEmail").css("color","red").html(d.mailerror)}else{jq("div.erErrorEmail").css("color","green").html("Records successfully emailed to "+b.to)}},"json")}function sendSMSMobile(b,a){provider=jq(":input[name=provider]").val();phonenumber=jq("input[name=smsto]").val();pn=phonenumber.replace(/\D/g,"");if(!pn.match(/^\d{10}$/)){jq("div.erErrorSMS").text('"'+phonenumber+'" is not a valid ten-digit phone number').css("color","red");return false}if(provider==""){jq("div.erErrorSMS").text("Choose a cell-phone service provider").css("color","red");return false}jq.post("/Search/SearchExport?",{method:"sendSMS",handpicked:b,id:b,phonenumber:phonenumber,provider:provider},function(d,c){if(d.error!=undefined){jq("div.erErrorSMS").text(d.error).css("color","red")}else{if(d.success!=undefined){jq("div.erErrorSMS").text(d.success).css("color","green")}}},"json");jq("div.erErrorSMS").text("Message sent").css("color","green")}function getGoogleBookInfoMobile(a,b,f){var g="";var c="";var d="";var h="";if(a.length>0){var e="https://books.google.com/books?jscmd=viewapi&bibkeys="+a+"&callback=?";jQuery.getJSON(e,function(j){if(j.length==0){return}var i="";googleLink=selectGoogleLink(j,b,f);if(googleLink.searchNum){jQuery("#GoogleLink").append(googleLink.link);jQuery("#ELEC_holdings").append('<tr><th></th><td style="width: 50%;"></td><td>'+googleLink.link+"</td></tr>");jQuery("#dummyElec").show();if(jQuery("#ELEC_"+b).length){jQuery("#ELEC_"+b).replaceWith('<tr><td class="holdingLocation">Electronic Resources</td><td><a href="/Record/'+b+'/Holdings#holdings">See Holdings</a></td>')}else{jQuery("#holdings"+b).append('<tr><td class="holdingLocation">Electronic Resources</td><td>'+googleLink.link+"</td></tr>")}}if(googleLink.thumbnail_url){img=jQuery("<img>");img.load(function(){img=jQuery(this);owidth=img.attr("width");if(owidth>75){img.attr("width",75);img.attr("height",img.attr("height")*(75/owidth))}jQuery("#GoogleCover_"+b).empty().append(img).show()}).attr("src",googleLink.thumbnail_url)}})}}function favoritesToggleMobile(d,c,a){d=jq(d);if(c){var b=d.attr("id").replace(/^addToFavorites_(.*)$/,"$1");favoritesAddMobile(b,d,a)}else{var b=d.attr("id").replace(/^removeFromFavorites_(.*)$/,"$1");favoritesDeleteMobile(b,function(f){d.hide();var e="#"+a;jq("#"+a).show()})}}function favoritesToggleMobilePostLogin(c,d,a){if(d){var b=c.replace(/^addToFavorites_(.*)$/,"$1");favoritesAddMobile(b,jq("#"+c),a)}else{var b=c.replace(/^removeFromFavorites_(.*)$/,"$1");favoritesDeleteMobile(b,function(e){jq("#"+c).hide();jq("#"+a).show()})}}function favoritesAddMobile(b,d,a){var c={};if(b=="tempset"){c.method="tempToFavorites"}else{c.method="addToFavorites";c.ids=b}jq.post("/Tags/TagInterface",c,function(f){d.hide();var e="#"+a;jq("#"+a).show()},"json");return false}function favoritesDeleteMobile(a,b){jq.post("/Tags/TagInterface",{method:"removeFromFavorites",ids:a},b,"json");return false}function showElement(a){jQuery("#"+a).show()}function hideElement(a){jQuery("#"+a).hide()}function ShowHide(a){jq("#"+a).animate({height:"toggle"},{duration:500})}function toggleFacetView(b,a){jq("#"+b).hide();jq("#"+a).show()}function toggle_ht_so(b){try{jq(".htsohide").toggle();jq("#htso_showlabel").toggle();jq("#htso_hidelabel").toggle()}catch(a){alert(a.toString())}}var HT=HT||{};HT.epub_helpers={cancel_download:function(a){alert("cancel!!! "+a)},download_epub:function(o){var r=(((1+Math.random())*65536)|0).toString(16)+"."+(new Date()).getTime();var h=r;h=h.substr(0,1)+"/"+h.substr(1,1)+"/"+h.substr(2,1)+"/"+h;var i=jq(o).attr("href")+";progress="+h;var k=jq(o).attr("href")+";dl=true;progress="+h;var s=jq(o).attr("href")+";cancel=true;progress="+h;var p=false;var q=jq(o).attr("bookId");q=q.replace(/[^a-zA-Z 0-9]+/g,"");jq("#fullEpubDownload"+q).empty().append('<iframe style="display:none" name="epubdl'+q+'" id="epubdl'+q+'" src="'+i+'"></iframe>');var g=null;var j="/Record/Record/Progress";var d="https://bkammin.babel.hathitrust.org/cache/progress/"+h+".txt";var l='<div class="epub-meter-wrap"><div class="epub-meter-text">Generating EPUB...</div><div class="epub-meter-value-wrap"><div class="epub-meter-value" ></div></div><div class="epub-meter-button"><button  class="close" onclick="jq(\'#epubdl'+q+"').attr('src', '"+s+"');\" >Cancel</button></div></div>";var b=new Boxy(l,{show:true,modal:true,draggable:true,closeable:false,title:"",afterHide:function(){clearInterval(g)}});var f=b.getContent();var n=0;var a=0;var e=0;var c=function(){var t='<div class="fullEpubAlert"><p>There was a problem building your EPUB; staff have been notified. Please try again in 24 hours.</p><p class="align-right"><button>OK</button></p></div>';var u=new Boxy(t,{show:true,modal:true,draggable:true,closeable:false,title:"",behaviours:function(v){jq(v).find("button").click(function(){Boxy.get(v).hide()})}})};var m=function(){n+=1;jq.ajax({url:j+"?fpath="+d,cache:false,async:false,success:function(v){a+=1;var t=jq.trim(v).split("\n").reverse();if(t.length>0){var w=t[0].split(":");if(w[0]=="EOT"){clearInterval(g);f.find(".epub-meter-value").css("width","100%");setTimeout(function(){b.hide()},500);window.location.href=k}else{if(w[0]=="ERROR"){b.hide(function(){c()});clearInterval(g)}else{if(w[0]=="NOFILE"){e++;if((e>=3&&a>0&&n>5)||e>10){clearInterval(g);b.hide(function(){c()});window.stop()}}else{e=0;var u=parseInt(w[0])/parseInt(w[1]);u=Math.ceil(u*100);f.find(".epub-meter-value").css("width",u+"%")}}}}},error:function(u,w,v){try{console.log("FAILED: ",u,"/",w,"/",v)}catch(t){}if(u.status==404&&(n>5||a>0)){clearInterval(g);b.hide(function(){c()})}}})};g=setInterval(m,2000)},explain_epub_access:function(a){var b=new Boxy(jq("#noEpubAccess").html(),{show:true,modal:true,draggable:true,closeable:false,clone:true,title:"",behaviours:function(c){jq('<p class="align-right"><button>OK</button></p>').appendTo(c).find("button").click(function(){Boxy.get(c).hide()})}})}};jq(document).ready(function(){jq("[linktype='epub']").click(function(){HT.epub_helpers.download_epub(this);return false})});var HT=HT||{};HT.pdf_helpers={is_running:false,inter:null,open_progress:function(c,b,f){try{console.log("open_progress");console.log("progress_url="+c);console.log("download_url="+b);console.log("total="+f)}catch(e){}if(HT.pdf_helpers.inter){console.log("ALREADY POLLING!");return}HT.pdf_helpers.progress_url="/Record/Record/ProgressProxy?fpath=https://bkammin.babel.hathitrust.org"+c;HT.pdf_helpers.download_url=b;HT.pdf_helpers.total=f;HT.pdf_helpers.is_running=true;var d=jq("div#fullPdfFrame").find("iframe").contents();HT.pdf_helpers.update_progress(d,f);var a=0;var h=0;var g=function(){a+=1;jq.ajax({url:HT.pdf_helpers.progress_url,data:{ts:(new Date).getTime()},cache:false,dataType:"html",success:function(k){var i=HT.pdf_helpers.update_progress(k,f);var j=jq.trim(k).split("\n").reverse();h+=1;if(i.done){HT.pdf_helpers.$notice.hide(function(){HT.pdf_helpers.show_download_link(b)});clearInterval(HT.pdf_helpers.inter);HT.pdf_helpers.inter=null}else{if(i.error){HT.pdf_helpers.$notice.hide(function(){HT.pdf_helpers.show_error()});clearInterval(HT.pdf_helpers.inter);HT.pdf_helpers.inter=null}}},error:function(i,k,j){console.log("FAILED: ",i,"/",k,"/",j);if(i.status==503){clearInterval(HT.pdf_helpers.inter);HT.pdf_helpers.inter=null;setTimeout(function(){HT.pdf_helpers.inter=setInterval(g,2000)},1000)}else{if((eq.status==404)&&(a>25||h>0)){clearInterval(HT.pdf_helpers.inter);HT.pdf_helpers.inter=null;HT.pdf_helpers.$notice.hide(function(){HT.pdf_helpers.show_error()})}}}})};HT.pdf_helpers.inter=setInterval(g,2000)},show_download_link:function(a){var b='<div class="fullPdfAlert"><div><p><strong>Your PDF is ready!</strong></p><p><a href="'+a+'">Download PDF</a></p></div></div>';var c=new Boxy(b,{show:true,modal:true,draggable:true,closeable:false,title:"",behaviours:function(d){jq(d).find("a").click(function(){setTimeout(function(){Boxy.get(d).hide()},500);return true})}})},show_error:function(){var a='<div class="fullPdfAlert"><p>There was a problem building your PDF; staff have been notified.</p><p>Please try again in 24 hours.</p><p class="align-right"><button>OK</button></p></div>';var b=new Boxy(a,{show:true,modal:true,draggable:true,closeable:false,title:"",behaviours:function(c){jq(c).find("button").click(function(){Boxy.get(c).hide()})}})},update_progress:function(d,c){var a={done:false,error:false};var b;if(HT.pdf_helpers.current==-1){HT.pdf_helpers.$content.find(".meter-text").text("Building PDF")}var e=jq(d).find("#current").data("value");if(e=="EOT"){a.done=true;b=100}else{e=parseInt(e);b=100*(e/c)}HT.pdf_helpers.current=e;if(self.last_percent!=b){self.last_percent=b;self.attempts=0}else{self.attempts+=1}if(self.attempts>5){a.error=true}HT.pdf_helpers.$content.find(".meter-value").css("width",b+"%");return a},download_pdf:function(a){var c=jq(a).attr("href");var b='<div class="meter-wrap"><div class="meter-value" style="background-color: #EF7A06; width: 0%"><div class="meter-text">Setting up PDF...</div></div></div>';HT.pdf_helpers.$notice=new Boxy(b,{show:true,modal:true,draggable:true,closeable:false,title:""});HT.pdf_helpers.$content=HT.pdf_helpers.$notice.getContent();HT.pdf_helpers.current=-1;jq.ajax({url:c+";callback=HT.pdf_helpers.open_progress",dataType:"script",cache:false,error:function(){console.log("DOWNLOAD STARTUP NOT DETECTED");HT.pdf_helpers.$notice.hide(function(){HT.pdf_helpers.show_error()})}})},explain_pdf_access:function(a){var b=new Boxy(jq("#noPdfAccess").html(),{show:true,modal:true,draggable:true,closeable:false,clone:true,title:"",behaviours:function(c){jq('<p class="align-right"><button>OK</button></p>').appendTo(c).find("button").click(function(){Boxy.get(c).hide()})}})}};jq(document).ready(function(){jq("#fullPdfLink").addClass("dialog").addClass("interactive").click(function(){HT.pdf_helpers.download_pdf(this);return false})});